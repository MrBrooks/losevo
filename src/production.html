<!DOCTYPE html>
<html lang="ru" class="no-js" prefix="og: http://ogp.me/ns#">

    <!-- build:include html-blocks/common/head.html -->
    This will be replaced by the content of html-blocks/common/head.html
    <!-- /build -->
    <body>

        <!-- build:include html-blocks/common/if-ie.html -->
        This will be replaced by the content of html-blocks/common/if-ie.html
        <!-- /build -->

        <!-- build:include html-blocks/pages--external/header--external.html -->
        This will be replaced by the content of html-blocks/pages--external/header--external.html
        <!-- /build -->

        <main>
          <div class="section">
            <!-- build:include html-blocks/pages--external/production-block.html -->
            This will be replaced by the content of html-blocks/pages--external/production-block.html
            <!-- /build -->
          </div>
          <div class="section lsv-footer fp-auto-height">
            <!-- build:include html-blocks/pages--external/footer.html -->
            This will be replaced by the content of html-blocks/pages--external/footer.html
            <!-- /build -->
              
          </div>
        </main>

        <!-- build:include html-blocks/pages--external/footer--external.html -->
        This will be replaced by the content of html-blocks/pages--external/footer--external.html
        <!-- /build -->
        <script type="text/javascript">
            $(document).ready(function () {

              var ferm = Snap("#ferm");
              var bakery = Snap('#bakery'),
              bakery_hover = Snap('#bakery_hover'),
              cheese_house = Snap('#cheese_house_1_'),
              cheese_house_hover = Snap('#cheese_house_hover'),
              car_path = Snap("#way_car>path"), 
              bull = Snap('#bull_2'),
              bull_popup = Snap('#bulls_hover'),
              milk = Snap('#cow_1'),
              milk_popup = Snap('#milk_hover'),
              cheese = Snap('#cheese_house_1_'),
              cheese_popup = Snap('#cheese_hover'),
              bakery_new = Snap('#bakery'),
              bakery_popup = Snap('#cooking_hover'),
              car = Snap('#car'),
              car_popup = Snap('#accept_hover');

              var bee_paths = [], bees = [], paths_length = 1127;
              var cheese_box = cheese_house_hover.getBBox(),
                  bakery_box = bakery_hover.getBBox(),
                  bull_box = bull_popup.getBBox(),
                  milk_box = milk_popup.getBBox(),
                  cheese_box = cheese_popup.getBBox(),
                  bakery_box_new = bakery_popup.getBBox(), 
                  car_box = car_popup.getBBox();

              var cheeseHoverIn = new Snap.Matrix(),
                  cheeseHoverOut = new Snap.Matrix(),
                  bakeryHoverIn = new Snap.Matrix(),
                  bakeryHoverOut = new Snap.Matrix(),
                  bullHoverIn = new Snap.Matrix(), 
                  bullHoverOut = new Snap.Matrix(),
                  milkHoverIn = new Snap.Matrix(), 
                  milkHoverOut = new Snap.Matrix(),
                  cheeseHoverIn = new Snap.Matrix(), 
                  cheeseHoverOut = new Snap.Matrix(),
                  bakery_newHoverIn = new Snap.Matrix(), 
                  bakery_newHoverOut = new Snap.Matrix(), 
                  carHoverIn = new Snap.Matrix(), 
                  carHoverOut = new Snap.Matrix();
              cheeseHoverIn.scale(1,1,2200,700);
              cheeseHoverOut.scale(0,0,2200,700);
              bakeryHoverIn.scale(1,1,bakery_box.cx,bakery_box.cy);
              bakeryHoverOut.scale(0,0,bakery_box.cx,bakery_box.cy);
              bullHoverIn.scale(1,1,900,1350);
              bullHoverOut.scale(0,0,900,1350);
              milkHoverIn.scale(1,1,1900,1100);
              milkHoverOut.scale(0,0,1900,1100);
              cheeseHoverIn.scale(1,1,1900,2000);
              cheeseHoverOut.scale(0,0,1900,2000);
              bakery_newHoverIn.scale(1,1,2750,1200);
              bakery_newHoverOut.scale(0,0,2750,1200);
              carHoverIn.scale(1,1,2177,2455);
              carHoverOut.scale(0,0,2177,2455);

              bakery_hover.transform(bakeryHoverOut);
              cheese_house_hover.transform(cheeseHoverOut);
              bull_popup.transform(bullHoverOut);
              milk_popup.transform(milkHoverOut);
              cheese_popup.transform(cheeseHoverOut);
              bakery_popup.transform(bakeryHoverOut);
              car_popup.transform(carHoverOut);

              var timeOutBull,
               timeOutMilk,
               timeOutBakery,
               timeOutCheese,
               timeOutCar;
              var timeAppear = 700;
              if(window.innerWidth > 768){
              
              bakery.hover(
                function(){
                  clearTimeout(timeOutBakery);
                  bakery_hover.animate({ transform: bakeryHoverIn },timeAppear, mina.elastic);
              },
                function(){
                  clearTimeout(timeOutBakery);
                  bakery_hover.animate({ transform: bakeryHoverOut },timeAppear, mina.backin);
              });

              cheese_house.hover(
                function(){
                  clearTimeout(timeOutCheese);
                  cheese_house_hover.animate({ transform: cheeseHoverIn },timeAppear, mina.elastic);
              },
                function(){
                 clearTimeout(timeOutCheese);
                 timeOutCheese = setTimeout(function() {cheese_house_hover.animate({ transform: cheeseHoverOut },timeAppear, mina.backin)}, 1000);
              });

              bull.hover(
                function(){
                  clearTimeout(timeOutBull);
                  bull_popup.animate({ transform: bullHoverIn },timeAppear, mina.elastic);
                },
                function(){
                  clearTimeout(timeOutBull);
                  timeOutBull = setTimeout(function () {bull_popup.animate({ transform: bullHoverOut },timeAppear, mina.backin)}, 1000);
              });

              milk.hover(
                function(){
                  clearTimeout(timeOutMilk);
                  milk_popup.animate({ transform: milkHoverIn },timeAppear, mina.elastic);
              },
                function(){
                  clearTimeout(timeOutMilk);
                  timeOutMilk = setTimeout(function() {milk_popup.animate({ transform: milkHoverOut },timeAppear, mina.backin)}, 1000);
              });

              cheese.hover(
                function(){
                  clearTimeout(timeOutCheese);
                  cheese_popup.animate({ transform: cheeseHoverIn },timeAppear, mina.elastic);
              },
                function(){
                  clearTimeout(timeOutCheese);
                  timeOutCheese = setTimeout(function () {cheese_popup.animate({ transform: cheeseHoverOut },timeAppear, mina.backin)}, 1000);
              });

              bakery_new.hover(
                function(){
                  clearTimeout(timeOutBakery);
                  bakery_popup.animate({ transform: bakery_newHoverIn },timeAppear, mina.elastic);
              },
                function(){
                  clearTimeout(timeOutBakery);
                  timeOutBakery = setTimeout(function () {bakery_popup.animate({ transform: bakery_newHoverOut },timeAppear, mina.backin)}, 1000);
              });

              car.hover(
                function(){
                  clearTimeout(timeOutCar);
                  car_popup.animate({ transform: carHoverIn },timeAppear, mina.elastic);
              },
                function(){
                  clearTimeout(timeOutCar);
                  timeOutCar = setTimeout(function () {car_popup.animate({ transform: carHoverOut },timeAppear, mina.backin)}, 1000);
              });


              $("#rect-bull").hover(function(){
                  clearTimeout(timeOutBull);
                  bull_popup.animate({ transform: bullHoverIn},timeAppear, mina.elastic);
              }, function(){
                 timeOutBull = setTimeout(function () {bull_popup.animate({ transform: bullHoverOut },timeAppear, mina.backin)}, 1000); 
              });
              $("#rect-milk").hover(function(){
                  clearTimeout(timeOutMilk);
                  milk_popup.animate({ transform: milkHoverIn },timeAppear, mina.elastic);
              }, function(){
                  timeOutMilk = setTimeout(function () {milk_popup.animate({ transform: milkHoverOut },timeAppear, mina.backin)}, 1000);  
              });
              $("#cheese_hover").hover(function(){
                  clearTimeout(timeOutCheese);
                  cheese_popup.animate({ transform: cheeseHoverIn },timeAppear, mina.elastic);
              }, function(){
                  timeOutCheese = setTimeout(function () {cheese_popup.animate({ transform: cheeseHoverOut },timeAppear, mina.backin)}, 1000);  
              });
              $("#cooking_hover").hover(function(){
                  clearTimeout(timeOutBakery);
                  bakery_popup.animate({ transform: bakery_newHoverIn },timeAppear, mina.elastic);
              }, function(){
                  timeOutBakery = setTimeout(function() {bakery_popup.animate({ transform: bakery_newHoverOut },timeAppear, mina.backin)}, 1000);
              });
              $("#accept_hover").hover(function(){
                  clearTimeout(timeOutCar);
                  car_popup.animate({ transform: carHoverIn },timeAppear, mina.elastic);
              }, function(){
                  timeOutCar = setTimeout(function() {car_popup.animate({ transform: carHoverOut },timeAppear, mina.backin)}, 1000);  
              });
            }

              var beePoints = [0,0,0,0];
              
              for( var i = 1; i < 5; i++){
                bees.push(ferm.select("#bee_"+i));
                bee_paths.push(ferm.select("#bee_path_"+i));
                bee_paths[i-1].attr({
                  opacity: 0
                });
              };

              var widthSvg = $("html").width();

              $("#ferm").css({"height": window.innerHeight+"px"});

              function animateAlongPath(index, displace){
                  Snap.animate(0, paths_length, function(value){
                    beePoints[index] = bee_paths[index].getPointAtLength( value );
                    bees[index].transform( 't' + parseInt(beePoints[index].x - 2280 + displace[0]) + ',' + parseInt(beePoints[index].y - 1875 + displace[1]) + 'r' + parseInt( beePoints[index].alpha+45+displace[2]));
                  }, 5000);
              };

              car_path
              .attr({
                opacity: 0
              });           

              animateAlongPath(0, [0,0,180]);
              animateAlongPath(1, [-350,200,0]);
              animateAlongPath(2, [-600,225,45-180]);
              animateAlongPath(3, [-525,-75,180]);

              setInterval(function(){
                  animateAlongPath(0, [0,0,180]);
                  animateAlongPath(1, [-350,200,0]);
                  animateAlongPath(2, [-600,225,45+180]);
                  animateAlongPath(3, [-525,-75,180]);
                },5000);

//GlF88 work

function fermTouch () {

    var myElement = document.getElementById('ferm');
    var mc = new Hammer.Manager(myElement);

    var pinch = new Hammer.Pinch();
    var pan = new Hammer.Pan();
    var tap = new Hammer.Tap();

    mc.add([pinch, pan, tap]);

    var carHammer = document.getElementById('car'),
    bullHammer = document.getElementById('rect-bull'),
    milkHammer = document.getElementById('rect-milk'),
    cheeseHammer = document.getElementById('cheese_house_1_'),
    bakeryHammer = document.getElementById('bakery'),
    fermHammer = document.getElementById('ferm'),
    milkLinkHammer = document.getElementById('milk_hover--link'),
    cheeseLinkHammer = document.getElementById('cheese_hover--link'),
    cookingLinkHammer = document.getElementById('cooking_hover--link'),
    carLinkHammer = document.getElementById('accept_hover--link'),
    bullLinkHammer = document.getElementById('bulls_hover--link');

        var hammerVarNameArr = [car_popup, bull_popup, milk_popup, cheese_popup, bakery_popup];
        var hammerVarNameOut = [carHoverOut, bullHoverOut, milkHoverOut, cheeseHoverOut, bakeryHoverOut];

        function dispNoneHover () {
          $('#bulls_hover, #cheese_hover, #cooking_hover, #accept_hover, #milk_hover').css({"display": "none"});
        };

        function clearPopUpHammer () {
              for (var i = 0; i <= 4; i++) {
                hammerVarNameArr[i].animate({ transform: hammerVarNameOut[i] },timeAppear, mina.backin);
              };
              dispNoneHover ();
        };

        Hammer(carHammer).on("tap", function(event) {
            clearPopUpHammer ();
            setTimeout( function () {$('#accept_hover').css({"display": "block"}); car_popup.animate({ transform: carHoverIn }, timeAppear, mina.elastic)}, 100);
        });
        Hammer(bullHammer).on("tap", function(event) {
            clearPopUpHammer ();
            setTimeout( function () {$('#bulls_hover').css({"display": "block"}); bull_popup.animate({ transform: bullHoverIn }, timeAppear, mina.elastic)}, 100);
        });
        Hammer(milkHammer).on("tap", function(event) {
            clearPopUpHammer ();
            setTimeout( function () {$('#milk_hover').css({"display": "block"}); milk_popup.animate({ transform: milkHoverIn }, timeAppear, mina.elastic)}, 100);
        });
        Hammer(cheeseHammer).on("tap", function(event) {
            clearPopUpHammer ();
            setTimeout( function () {$('#cheese_hover').css({"display": "block"}); cheese_popup.animate({ transform: cheeseHoverIn }, timeAppear, mina.elastic)}, 100);
        });
        Hammer(bakeryHammer).on("tap", function(event) {
            clearPopUpHammer ();
            setTimeout( function () {$('#cooking_hover').css({"display": "block"}); bakery_popup.animate({ transform: bakery_newHoverIn },timeAppear, mina.elastic)}, 100);
        });
        Hammer(fermHammer).on("tap", function(event) {
            setTimeout( function () {clearPopUpHammer ()}, 50);
        });

        Hammer(cheeseLinkHammer).on("tap", function(event) {
            location.href = 'products__cheese.html';
        });
        Hammer(milkLinkHammer).on("tap", function(event) {
            location.href = 'products__dairy.html';
        });
        Hammer(cookingLinkHammer).on("tap", function(event) {
            location.href = 'products__cooking.html';
        });
        Hammer(carLinkHammer).on("tap", function(event) {
            location.href = 'products__approved.html';
        });
        Hammer(bullLinkHammer).on("tap", function(event) {
            location.href = 'products__meat.html';
        });

    var scaleStep = 1,
    scrollLeft,
    scrollTopFerm,
    stepFerm = 30;

    var sizeWindowFerm = {
      widthFerm: $(window).width(),
      heightFerm: $(window).height()
    };

    var noMoveFerm = true;

    mc.on("pinchout", function(ev) {
      noMoveFerm = false;
      scrollLeft = ev.center.x / 2;
      scrollTopFerm = ev.center.y;
      if (scaleStep >= 1 && scaleStep <= 3) {
        scaleStep+=0.05;
        $("#ferm").css({"transform-origin": ""+ ev.center.x +" "+ ev.center.y +"","transform": "scale("+ scaleStep+")"});
      } else {
        scaleStep = 3;
            $("#ferm").css({"transform-origin": ""+ ev.center.x +" "+ ev.center.y +"","transform": "scale("+ scaleStep+")"});
      }
    });
    mc.on("pinchin", function(ev) {
      $("#ferm").css({"left": "0px", "top": "0px"});
      if (scaleStep <= 1) {
        noMoveFerm = true;
        scaleStep = 1;
        $("#ferm").css({"transform": "scale("+ scaleStep+")"});
        $("#ferm").css({"left": "0px", "top": "0px"});
      } else {
        scaleStep -= 0.1;
            $("#ferm").css({"transform": "scale("+ scaleStep+")"});
            $("#ferm").css({"left": "0px", "top": "0px"});
      } 
    });
    mc.on("panleft", function(ev) {
      if (!noMoveFerm) {
        if (scrollLeft <= -sizeWindowFerm.widthFerm) {
          scrollLeft = -sizeWindowFerm.widthFerm;
          $("#ferm").css({"right": ""+scrollLeft+""});
        } else {
          scrollLeft -= stepFerm;
          $("#ferm").css({"left": ""+scrollLeft+""});      
        }
      } else {};
    });
    mc.on("panright", function(ev) {
      if (!noMoveFerm) {
        if (scrollLeft >= sizeWindowFerm.widthFerm) {
          scrollLeft = sizeWindowFerm.widthFerm;
          $("#ferm").css({"left": ""+scrollLeft+""});
        } else {
          scrollLeft += stepFerm;
          $("#ferm").css({"left": ""+scrollLeft+""});      
        }
      } else {};
    });
    mc.on("panup", function(ev) {
    if (!noMoveFerm) {
      if (scrollTopFerm <= -sizeWindowFerm.heightFerm) {
        scrollTopFerm = -sizeWindowFerm.heightFerm;
        $("#ferm").css({"top": ""+scrollTopFerm+""});
      } else {
        scrollTopFerm -= stepFerm;
        $("#ferm").css({"top": ""+scrollTopFerm+""});
      }
    } else {};
    });
    mc.on("pandown", function(ev) {
    if (!noMoveFerm) {
      if (scrollTopFerm >= sizeWindowFerm.heightFerm) {
        scrollTopFerm = sizeWindowFerm.heightFerm;
        $("#ferm").css({"top": ""+scrollTopFerm+""});
      } else {
        scrollTopFerm += stepFerm;
        $("#ferm").css({"top": ""+scrollTopFerm+""});
      }
    } else {};
    });

};

// if(window.innerWidth < 1024) {
//   fermTouch ();
// };
}); 

        </script>
        <script type="text/javascript">
        $(document).ready(function(){
          $('#lsv-slides').fullpage({
            'css3': true,
            'easing': 'easeOutElastic',
            'fitToSection': false,
            'fixedElements': '.lsv-nav , .lsv-menu',
            'scrollOverflow': true,
            afterRender: function(){
              if(window.innerWidth < 1024) {
                fermTouch ();
              };
            }
          });
        });
        </script>

    </body>

</html>